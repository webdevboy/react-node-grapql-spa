/* eslint-disable */
import Promise from 'bluebird';
import path from 'path';
import moment from 'moment';
import slugify from '../../core/generateSlug';
import {
  SFAirport,
  SFAirportCity,
  Post,
  User,
  Language,
  Term,TermTaxonomy,
  MediaLibrary
} from '../models';
import Sequelize from '../sequelize';

const filename = path.basename(__filename);
const DESCRIPTION = `Auto generated by seed name: ${filename}`;

export default {
  up: async () => {
    
    const author = await User.findOne();
    const en = await Language.findOne({ where: { locale: 'en' } });
    const fr = await Language.findOne({ where: { locale: 'fr' } });
    const bannerImage = await MediaLibrary.findOne({ order: [Sequelize.fn('RANDOM')] });
    const city = await SFAirportCity.findOne({ order: [Sequelize.fn('RANDOM')] });
    const airport1 = await SFAirport.findOne({ order: [Sequelize.fn('RANDOM')] });
    const airport2 = await SFAirport.findOne({ order: [Sequelize.fn('RANDOM')] });
    const airport3 = await SFAirport.findOne({ order: [Sequelize.fn('RANDOM')] });

    // event 1
    const event1 = await Post.create({
      post_id: 'event1',
      title: 'Monaco Race F1',
      slug: 'monaco-race-f1',
      body: JSON.parse ("{\"main\":{\"entityMap\":{},\"blocks\":[{\"key\":\"8donc\",\"text\":\"HELLO it is me\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[{\"offset\":0,\"length\":14,\"style\":\"BOLD\"},{\"offset\":0,\"length\":14,\"style\":\"ITALIC\"}],\"entityRanges\":[],\"data\":{}},{\"key\":\"3qoma\",\"text\":\"How are you?\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[{\"offset\":0,\"length\":12,\"style\":\"BOLD\"},{\"offset\":0,\"length\":12,\"style\":\"ITALIC\"}],\"entityRanges\":[],\"data\":{}},{\"key\":\"agvao\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}}]},\"helicopter_description\":{\"entityMap\":{},\"blocks\":[{\"key\":\"8donc\",\"text\":\"HELLO it is me\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[{\"offset\":0,\"length\":14,\"style\":\"BOLD\"},{\"offset\":0,\"length\":14,\"style\":\"ITALIC\"}],\"entityRanges\":[],\"data\":{}},{\"key\":\"3qoma\",\"text\":\"How are you?\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[{\"offset\":0,\"length\":12,\"style\":\"BOLD\"},{\"offset\":0,\"length\":12,\"style\":\"ITALIC\"}],\"entityRanges\":[],\"data\":{}},{\"key\":\"agvao\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}}]}}"),
      meta: {
        template: 'event-details',
        city_sfid: city.sfid,
        website: 'monaco-event.com',
        recommended_airports: [
          {airport_sfid: airport1.sfid},
          {airport_sfid: airport2.sfid},
          {airport_sfid: airport3.sfid},
        ],
        from_date: '2018-04-17 23:36:17.708',
        until_date: "2018-04-17 23:36:17.708",
      },
      type: 'event',
      state: 'published',
      user_id: author.id,
      summary: 'something to test of event ...',
      language_id: en.id,
      media_id: bannerImage.id,
    });

    const event1Fr = await Post.create({
      post_id: 'event1',
      title: 'Course Monaco F1',
      slug: 'monaco-course-f1',
      body: JSON.parse ("{\"main\":{\"entityMap\":{},\"blocks\":[{\"key\":\"8donc\",\"text\":\"BONJOUR c'est moi!\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[{\"offset\":0,\"length\":14,\"style\":\"BOLD\"},{\"offset\":0,\"length\":14,\"style\":\"ITALIC\"}],\"entityRanges\":[],\"data\":{}},{\"key\":\"3qoma\",\"text\":\"How are you?\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[{\"offset\":0,\"length\":12,\"style\":\"BOLD\"},{\"offset\":0,\"length\":12,\"style\":\"ITALIC\"}],\"entityRanges\":[],\"data\":{}},{\"key\":\"agvao\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}}]},\"helicopter_description\":{\"entityMap\":{},\"blocks\":[{\"key\":\"8donc\",\"text\":\"HELLO it is me\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[{\"offset\":0,\"length\":14,\"style\":\"BOLD\"},{\"offset\":0,\"length\":14,\"style\":\"ITALIC\"}],\"entityRanges\":[],\"data\":{}},{\"key\":\"3qoma\",\"text\":\"How are you?\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[{\"offset\":0,\"length\":12,\"style\":\"BOLD\"},{\"offset\":0,\"length\":12,\"style\":\"ITALIC\"}],\"entityRanges\":[],\"data\":{}},{\"key\":\"agvao\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}}]}}"),
      meta: {
        template: 'event-details',
        city_sfid: city.sfid,
        website: 'monaco-event.com',
        recommended_airports: [
          {airport_sfid: airport1.sfid},
          {airport_sfid: airport2.sfid},
          {airport_sfid: airport3.sfid},
        ],
        from_date: '2018-04-17 23:36:17.708',
        until_date: "2018-04-17 23:36:17.708",
      },
      type: 'event',
      state: 'published',
      user_id: author.id,
      summary: 'something to test of event in french...',
      language_id: fr.id,
      media_id: bannerImage.id,
    });

    // event 2
    const event2 = await Post.create({
      post_id: 'event2',
      title: 'Fashion Show Barcelona',
      slug: 'fashion-show-barcelona',
      body: JSON.parse ("{\"main\":{\"entityMap\":{},\"blocks\":[{\"key\":\"8donc\",\"text\":\"HELLO it is me\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[{\"offset\":0,\"length\":14,\"style\":\"BOLD\"},{\"offset\":0,\"length\":14,\"style\":\"ITALIC\"}],\"entityRanges\":[],\"data\":{}},{\"key\":\"3qoma\",\"text\":\"How are you?\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[{\"offset\":0,\"length\":12,\"style\":\"BOLD\"},{\"offset\":0,\"length\":12,\"style\":\"ITALIC\"}],\"entityRanges\":[],\"data\":{}},{\"key\":\"agvao\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}}]},\"helicopter_description\":{\"entityMap\":{},\"blocks\":[{\"key\":\"8donc\",\"text\":\"HELLO it is me\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[{\"offset\":0,\"length\":14,\"style\":\"BOLD\"},{\"offset\":0,\"length\":14,\"style\":\"ITALIC\"}],\"entityRanges\":[],\"data\":{}},{\"key\":\"3qoma\",\"text\":\"How are you?\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[{\"offset\":0,\"length\":12,\"style\":\"BOLD\"},{\"offset\":0,\"length\":12,\"style\":\"ITALIC\"}],\"entityRanges\":[],\"data\":{}},{\"key\":\"agvao\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}}]}}"),
      meta: {
        template: 'event-details',
        city_sfid: city.sfid,
        website: 'barcelona-event.com',
        recommended_airports: [
          {airport_sfid: airport1.sfid},
          {airport_sfid: airport2.sfid},
          {airport_sfid: airport3.sfid},
        ],
        from_date: '2018-02-17 23:36:17.708',
        until_date: "2018-01-17 23:36:17.708",
      },
      type: 'event',
      state: 'published',
      user_id: author.id,
      summary: 'something to test of event ...',
      language_id: en.id,
      media_id: bannerImage.id,
    });

    const event2Fr = await Post.create({
      post_id: 'event2',
      title: 'Fashion Semaine Barcelone',
      slug: 'fashion-semaine-barcelone',
      body: JSON.parse ("{\"main\":{\"entityMap\":{},\"blocks\":[{\"key\":\"8donc\",\"text\":\"HELLO it is me\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[{\"offset\":0,\"length\":14,\"style\":\"BOLD\"},{\"offset\":0,\"length\":14,\"style\":\"ITALIC\"}],\"entityRanges\":[],\"data\":{}},{\"key\":\"3qoma\",\"text\":\"How are you?\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[{\"offset\":0,\"length\":12,\"style\":\"BOLD\"},{\"offset\":0,\"length\":12,\"style\":\"ITALIC\"}],\"entityRanges\":[],\"data\":{}},{\"key\":\"agvao\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}}]},\"helicopter_description\":{\"entityMap\":{},\"blocks\":[{\"key\":\"8donc\",\"text\":\"HELLO it is me\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[{\"offset\":0,\"length\":14,\"style\":\"BOLD\"},{\"offset\":0,\"length\":14,\"style\":\"ITALIC\"}],\"entityRanges\":[],\"data\":{}},{\"key\":\"3qoma\",\"text\":\"How are you?\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[{\"offset\":0,\"length\":12,\"style\":\"BOLD\"},{\"offset\":0,\"length\":12,\"style\":\"ITALIC\"}],\"entityRanges\":[],\"data\":{}},{\"key\":\"agvao\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}}]}}"),
      meta: {
        template: 'event-details',
        city_sfid: city.sfid,
        website: 'barcelona-event.com',
        recommended_airports: [
          {airport_sfid: airport1.sfid},
          {airport_sfid: airport2.sfid},
          {airport_sfid: airport3.sfid},
        ],
        from_date: '2018-02-17 23:36:17.708',
        until_date: "2018-01-17 23:36:17.708",
      },
      type: 'event',
      state: 'published',
      user_id: author.id,
      summary: 'something to test of event ...',
      language_id: fr.id,
      media_id: bannerImage.id,
    });
    
  },
  down: async () => {
    await Post.destroy({ where: { type: 'event', }, cascade: true, force: true });
  }
}
